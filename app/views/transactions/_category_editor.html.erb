<div id="<%= dom_id(transaction, :category_editor) %>" class="inline-flex w-full justify-center">
  <%= form_with model: transaction,
      url: transaction_path(transaction),
      method: :patch,
      data: { controller: "category-select" },
      html: { class: "flex w-full flex-col items-center gap-2" } do |form| %>
    <%= form.select :category,
        Transaction.category_options_for_select,
        { include_blank: "Uncategorized", selected: transaction.category_select_value },
        class: "w-36 rounded-full border-2 border-black bg-amber-100 px-3 py-1 text-center text-[11px] font-semibold uppercase tracking-wide text-slate-800 shadow-[0_3px_0_#000] focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-400",
        data: { action: "change->category-select#submit", "category-select-target": "select" } %>
    <% if transaction.errors[:category].present? %>
      <p class="text-[11px] font-semibold uppercase tracking-wide text-red-600">
        <%= transaction.errors[:category].first %>
      </p>
    <% end %>
  <% end %>
</div>

